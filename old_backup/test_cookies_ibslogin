import requests
import json

session = requests.Session()

url = "https://v3-bo.22funbo.com/api/be/auth/loginV2"

payload = json.dumps({
  "mer_code": "22f",
  "username": "thomas012",
  "password": "Thomas000!@#",

})
headers = {
  'accept': 'application/json',
  'accept-language': 'en-US,en;q=0.9',
  'cache-control': 'no-cache',
  'content-type': 'application/json',
  'domain': 'v3-bo.22funbo.com',
  'gmt': '+08:00',
  'lang': 'en-US',
  'loggedin': 'false',
  'origin': 'https://v3-bo.22funbo.com',
  'page': '/en-us',
  'pragma': 'no-cache',
  'priority': 'u=1, i',
  'referer': 'https://v3-bo.22funbo.com/en-us',
  'sec-ch-ua': '"Google Chrome";v="143", "Chromium";v="143", "Not A(Brand";v="24"',
  'sec-ch-ua-arch': '"arm"',
  'sec-ch-ua-bitness': '"64"',
  'sec-ch-ua-full-version': '"143.0.7499.147"',
  'sec-ch-ua-full-version-list': '"Google Chrome";v="143.0.7499.147", "Chromium";v="143.0.7499.147", "Not A(Brand";v="24.0.0.0"',
  'sec-ch-ua-mobile': '?0',
  'sec-ch-ua-model': '""',
  'sec-ch-ua-platform': '"macOS"',
  'sec-ch-ua-platform-version': '"15.5.0"',
  'sec-fetch-dest': 'empty',
  'sec-fetch-mode': 'cors',
  'sec-fetch-site': 'same-origin',
  'type': 'CUSTOM',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36',
}

# response session
session.get("https://v3-bo.22funbo.com/en-us", headers=headers)
response = session.post(url, headers=headers, data=payload)

# to get Authentication Cookies
user_cookie = session.cookies.get("user")

# Save cookies to "get_cookies" path
file_path = "/Users/nera_thomas/Desktop/Telemarketing/get_cookies/demo_cookies.json"

# data format you want
data = {
    "user_cookie": user_cookie
}

# write to json file
with open(file_path, "w", encoding="utf-8") as f:
    json.dump(data, f, indent=4)

print("Saved user cookie to:", file_path)