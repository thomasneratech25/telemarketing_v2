import requests
import json

session = requests.Session()

url = "https://aw8.premium-bo.com/api/authenticate?noBlockUI=true"

payload = json.dumps({
  "tenantCode": None,
  "login": "thomas012",
  "password": "Thomas000!@#",
  "rememberMe": True,
  "authenticatorAppEncoded": None,
  "authenticatorAppCode": None
})

headers = {
  'accept': 'application/json, text/plain, */*',
  'accept-language': 'en-US,en;q=0.9',
  'cache-control': 'no-cache',
  'content-type': 'application/json',
  'origin': 'https://aw8.premium-bo.com',
  'pragma': 'no-cache',
  'priority': 'u=1, i',
  'referer': 'https://aw8.premium-bo.com/',
  'sec-ch-ua': '"Google Chrome";v="143", "Chromium";v="143", "Not A(Brand";v="24"',
  'sec-ch-ua-mobile': '?0',
  'sec-ch-ua-platform': '"macOS"',
  'sec-fetch-dest': 'empty',
  'sec-fetch-mode': 'cors',
  'sec-fetch-site': 'same-origin',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36',
}

# Session
session.get("https://aw8.premium-bo.com/", headers=headers)

# Response
response = session.post(url, headers=headers, data=payload)
data = response.json()
jwt_token = data.get("jwt")

# Save cookies to "get_cookies" path
file_path = "/Users/nera_thomas/Desktop/Telemarketing/get_cookies/demo_cookies.json"

# data format you want
data = {"jwt_token": jwt_token}

# write to json file
with open(file_path, "w", encoding="utf-8") as f:
    json.dump(data, f, indent=4)

print("Saved user cookie to:", file_path)
